<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vector Addition Calculator</title>
    <!-- Plotly CDN for interactive graph -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        :root {
            --bg: #0f172a;
            --card-bg: #0b1120;
            --accent: #3b82f6;
            --accent-soft: #1d4ed8;
            --border-subtle: #1e293b;
            --text-main: #e5e7eb;
            --text-muted: #9ca3af;
        }

        * {
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: system-ui, -apple-system, Blinkmacsystemfont, "Segoe UI", sans-serif;
            background: radial-gradient(circle at top, #1e293b 0, #020617 45%, #000 100%);
            color: var(--text-main);
            display: flex;
            justify-content: center;
            align-items: stretch;
        }

        .page-wrapper {
            max-width: 1200px;
            width: 100%;
            padding: 24px;
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .page-title {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 4px;
            text-align: left;
        }

        .page-subtitle {
            font-size: 14px;
            color: var(--text-muted);
            margin-bottom: 16px;
            text-align: left;
        }

        .app-container {
            display: flex;
            gap: 20px;
            flex: 1;
            min-height: 0;
        }

        .panel {
            border-radius: 9px;
            border: 1px solid var(--border-subtle);
            box-shadow: 0 9px 22px rgba(15, 23, 42, 0.45);
            padding: 18px 20px 20px 20px;
        }

        .left-panel {
            flex: 1;
            max-width: 360px;
            background: var(--card-bg);
            display: flex;
            flex-direction: column;
        }

        .right-panel {
            flex: 2;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        /* Updated: Both headers now match exactly */
        .panel-header {
            font-size: 18px;
            font-weight: 500;
            margin-bottom: 8px;
            color: var(--accent);
        }

        .panel-description {
            font-size: 13px;
            color: var(--text-muted);
            margin-bottom: 14px;
        }

        .vectors-row {
            display: flex;
            gap: 16px;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .inputs-block {
            flex: 1;
        }

        .inputs-row {
            margin-bottom: 10px;
        }

        .vector-column {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .vector-header {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 2px;
        }

        .component-line {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .component-line span {
            min-width: 30px;
            font-size: 13px;
            color: var(--text-muted);
        }

        input {
            padding: 6px 8px;
            width: 80px;
            font-size: 13px;
            color: var(--text-main);
            background: #020617;
            border: 1px solid #1e293b;
            border-radius: 14px;
            outline: none;
            transition: border-color 0.18s ease, box-shadow 0.18s ease, background 0.18s ease;
        }

        input:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.5);
            background: #020617;
        }

        button {
            margin-top: 6px;
            padding: 9px 14px;
            font-size: 13px;
            font-weight: 500;
            color: #e5e7eb;
            background: linear-gradient(135deg, var(--accent), var(--accent-soft));
            border: none;
            border-radius: 14px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 2.5px 6px rgba(37, 99, 235, 0.11);
            transition: transform 0.12s ease, box-shadow 0.12s ease, filter 0.12s ease;
        }

        button:hover {
            transform: translateY(-1px);
            box-shadow: 0 3.5px 8px rgba(37, 99, 235, 0.15);
            filter: brightness(1.04);
        }

        button:active {
            transform: translateY(0);
            box-shadow: 0 2px 5px rgba(37, 99, 235, 0.12);
        }

        button span.icon {
            font-size: 14px;
            color: #ffffff;
        }

        /* Resultant vector section styles */
        .resultant-section {
            margin-top: 16px;
            padding-top: 10px;
            border-top: 1px solid rgba(148, 163, 184, 0.25);
        }

        .resultant-title {
            font-size: 18px; /* Now matches .panel-header */
            font-weight: 500; /* Now matches .panel-header */
            margin-bottom: 8px; /* Now matches .panel-header */
            color: var(--accent); /* Now matches .panel-header */
        }

        .resultant-formula {
            font-size: 12px;
            color: var(--text-muted);
            line-height: 1.4;
            margin-bottom: 8px;
        }

        .resultant-value {
            font-size: 13px;
            color: var(--text-main);
            font-weight: 500;
            background: rgba(168, 85, 247, 0.1);
            padding: 8px 12px;
            border-radius: 8px;
            border-left: 3px solid #a855f7;
        }

        .graph-panel {
            background: #ffffff;
            color: #111827;
            border-radius: 9px;
            border: 1px solid #e5e7eb;
            box-shadow: 0 7px 20px rgba(15, 23, 42, 0.18);
            padding: 14px 16px 16px 16px;
            flex: 1;
            min-height: 0;
            display: flex;
        }

        #graph {
            width: 100%;
            height: 100%;
        }

        .legend-bar {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 10px 14px;
            border-radius: 14px;
            background: rgba(15, 23, 42, 0.75);
            border: 1px solid var(--border-subtle);
            font-size: 12px;
            color: var(--text-muted);
            box-shadow: 0 4px 10px rgba(15, 23, 42, 0.25);
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .legend-swatch {
            width: 16px;
            height: 4px;
            border-radius: 999px;
        }

        .swatch-a { background: #3b82f6; }
        .swatch-b { background: #f97373; }
        .swatch-r { background: #a855f7; }

        @media (max-width: 900px) {
            .app-container {
                flex-direction: column;
            }
            .left-panel {
                max-width: 100%;
            }
            .vectors-row {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="page-wrapper">
        <div class="page-title">Vector Addition Visualizer</div>
        <div class="page-subtitle">
            Explore how two 2D vectors combine into a resultant vector on an interactive graph.
        </div>

        <div class="app-container">
            <!-- LEFT PANEL -->
            <div class="panel left-panel">
                <div class="panel-header">Vector inputs</div>
                <div class="panel-description">
                    Enter the x and y components for each vector. Press <strong>Add vectors</strong> to update the graph.
                </div>

                <!-- Vector A and B side by side -->
                <div class="vectors-row">
                    <!-- Vector A -->
                    <div class="inputs-block">
                        <div class="vector-column">
                            <div class="vector-header">Vector A</div>
                            <div class="component-line">
                                <span>x =</span>
                                <input type="number" id="a_x" value="12.5" step="0.1">
                            </div>
                            <div class="component-line">
                                <span>y =</span>
                                <input type="number" id="a_y" value="25" step="0.1">
                            </div>
                        </div>
                    </div>

                    <!-- Vector B -->
                    <div class="inputs-block">
                        <div class="vector-column">
                            <div class="vector-header">Vector B</div>
                            <div class="component-line">
                                <span>x =</span>
                                <input type="number" id="b_x" value="6" step="0.1">
                            </div>
                            <div class="component-line">
                                <span>y =</span>
                                <input type="number" id="b_y" value="40" step="0.1">
                            </div>
                        </div>
                    </div>
                </div>

                <button onclick="addVectors()">
                    <span class="icon">➕</span>
                    <span>Add vectors</span>
                </button>

                <!-- SINGLE Resultant vector section -->
                <div class="resultant-section">
                    <div class="resultant-title">Resultant vector</div>
                    <div class="resultant-formula">
                        Component form:<br>
                        R = A + B = (A<sub>x</sub> + B<sub>x</sub>, A<sub>y</sub> + B<sub>y</sub>)<br><br>
                        Magnitude (Pythagorean theorem):<br>
                        |R| = √[(A<sub>x</sub> + B<sub>x</sub>)² + (A<sub>y</sub> + B<sub>y</sub>)²]<br><br>
                        Direction (angle from positive x-axis):<br>
                        θ = atan2(A<sub>y</sub> + B<sub>y</sub>, A<sub>x</sub> + B<sub>x</sub>) in degrees
                    </div>
                    <div class="resultant-value" id="resultant-display">
                        R = (0.00, 0.00), |R| = 0.00, θ = 0.00°
                    </div>
                </div>
            </div>

            <!-- RIGHT PANEL: INTERACTIVE GRAPH -->
            <div class="right-panel">
                <div class="graph-panel">
                    <div id="graph"></div>
                </div>

                <div class="legend-bar">
                    <div class="legend-item">
                        <div class="legend-swatch swatch-a"></div>
                        <span>Vector A</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-swatch swatch-b"></div>
                        <span>Vector B</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-swatch swatch-r"></div>
                        <span>Resultant R = A + B</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function addVectors() {
            const a_x = parseFloat(document.getElementById('a_x').value);
            const a_y = parseFloat(document.getElementById('a_y').value);
            const b_x = parseFloat(document.getElementById('b_x').value);
            const b_y = parseFloat(document.getElementById('b_y').value);

            const sum_x = a_x + b_x;
            const sum_y = a_y + b_y;

            // Magnitude of resultant using Pythagorean theorem
            const magR = Math.sqrt(sum_x * sum_x + sum_y * sum_y);

            // Angle of resultant in degrees (atan2 handles quadrants correctly)
            const thetaRad = Math.atan2(sum_y, sum_x);
            const thetaDeg = thetaRad * 180 / Math.PI;

            // Update only the main resultant display
            document.getElementById('resultant-display').textContent =
                `R = (${sum_x.toFixed(2)}, ${sum_y.toFixed(2)}), |R| = ${magR.toFixed(2)}, θ = ${thetaDeg.toFixed(2)}°`;

            drawPlotlyVectors(a_x, a_y, b_x, b_y, sum_x, sum_y);
        }

        function drawPlotlyVectors(a_x, a_y, b_x, b_y, sum_x, sum_y) {
            const values = [0, a_x, a_y, b_x, b_y, sum_x, sum_y];
            const maxAbs = Math.max(...values.map(v => Math.abs(v)), 5);
            const margin = 1;
            const axisMax = maxAbs + margin;
            const axisMin = -axisMax;

            const traceA = {
                x: [0, a_x],
                y: [0, a_y],
                mode: "lines+markers",
                name: "Vector A",
                line: { color: "#3b82f6", width: 4 },
                marker: { size: 6, color: "#3b82f6" }
            };

            const traceB = {
                x: [0, b_x],
                y: [0, b_y],
                mode: "lines+markers",
                name: "Vector B",
                line: { color: "#f97373", width: 4 },
                marker: { size: 6, color: "#f97373" }
            };

            const traceR = {
                x: [0, sum_x],
                y: [0, sum_y],
                mode: "lines+markers",
                name: "Resultant R",
                line: { color: "#a855f7", width: 5 },
                marker: { size: 7, color: "#a855f7" }
            };

            const layout = {
                paper_bgcolor: "#ffffff",
                plot_bgcolor: "#ffffff",
                margin: { l: 40, r: 10, t: 20, b: 40 },
                xaxis: {
                    title: "Vector A",
                    zeroline: true,
                    zerolinewidth: 2,
                    zerolinecolor: "#111827",
                    range: [axisMin, axisMax],
                    gridcolor: "#e5e7eb",
                    linecolor: "#111827",
                    mirror: true
                },
                yaxis: {
                    title: "Vector B",
                    zeroline: true,
                    zerolinewidth: 2,
                    zerolinecolor: "#111827",
                    range: [axisMin, axisMax],
                    gridcolor: "#e5e7eb",
                    linecolor: "#111827",
                    mirror: true,
                    scaleanchor: "x",
                    scaleratio: 1
                },
                showlegend: false
            };

            const config = {
                responsive: true,
                displaylogo: false,
                modeBarButtonsToRemove: ["toImage"],
                scrollZoom: true
            };

            Plotly.newPlot("graph", [traceA, traceB, traceR], layout, config);
        }

        // Initial load
        addVectors();
    </script>
</body>
</html>
